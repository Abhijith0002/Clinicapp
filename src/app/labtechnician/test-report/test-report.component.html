<div class="container">
    <h3 class="text-secondary">Add Report</h3>
    <hr>

    <form name="frmPosts" #form="ngForm" autocomplete="off"
        (ngSubmit)="onSubmit(form)">
<div class="form-group">
    <input type="hidden" readonly name="id" [(ngModel)] = "labTechnicianService.formLabReportData.id">
</div>

<br>
<div class="form group">
    <label>Select Patient Registration Number:</label>
    <select name="patient_id" id="patient_id"
    class="form-control shadow-none border-success" required
    #patient_name="ngModel"
    [(ngModel)] = "labTechnicianService.formLabReportData.patient_name">
    <option value=0 disabled>Select Patient</option>
    <option *ngFor="let patient of receptionistService.patients"
    value="{{patient.id}}">{{patient.registernumber}}-{{patient.fullname}}</option>
</select>
<div class="validation-error" *ngIf="patient_name.touched&& patient_name.invalid">
    <div>Required</div>
</div>
</div>
<br>

<div class="form-group">
    <label>Select Tests</label>
    <select name="tests" id="tests"
        class="form-control shadow-none border-success"
        required
        multiple
        #tests="ngModel"
        [(ngModel)]="labTechnicianService.formLabReportData.tests">
        <option value="0" disabled>Select Test(s)</option>
        <option *ngFor="let test of labTechnicianService.tests"
                [value]="test.id">{{test.name}}</option>
    </select>
    <div class="validation-error" *ngIf="tests.touched && tests.invalid">
        <div>At least one test is required</div>
    </div>
</div>
<br>



<div class="form group">
    <label>Select Consulted Doctor:</label>
    <select name="doctor_id" id="doctor_id"
    class="form-control shadow-none border-success" required
    #doctor_name="ngModel"
    [(ngModel)] = "labTechnicianService.formLabReportData.doctor_name">
    <option value=0 disabled>Choose Doctor</option>
    <option *ngFor="let doc of receptionistService.avaliabledoc"
    value="{{doc.id}}">{{doc.doctor_name}}</option>
</select>
<div class="validation-error" *ngIf="doctor_name.touched&& doctor_name.invalid">
    <div>Required</div>
</div>
</div>
<br>


<div class="form group">
    <label>Prepared BY</label>
    <select name="staff_id" id="staff_id"
    class="form-control shadow-none border-success" required
    #staff="ngModel"
    [(ngModel)] = "labTechnicianService.formLabReportData.staff">
    <option value=0 disabled>Choose</option>
    <option *ngFor="let staff of labTechnicianService.staffs"
    value="{{staff.id}}">{{staff.name}}</option>
</select>
<div class="validation-error" *ngIf="staff.touched&& staff.invalid">
    <div>Required</div>
</div>
</div>
<br>


<label>Report</label>
<div class="form-floating mb-10">
    <input name="report" #report="ngModel"
        [(ngModel)]="labTechnicianService.formLabReportData.report"
        class="form-control shadow-none border-success custom-address-input" placeholder="Enter Address">
</div>
<div class="validation-error" *ngIf="report.touched && report.invalid">
    <div>Address is required</div>
</div>
<br>


<div class="form-group">
    <button class="btn btn-success w-100 mb-2" name="submit" 
    type="submit">Submit Report</button>
    
    
</div>

    </form>
</div>